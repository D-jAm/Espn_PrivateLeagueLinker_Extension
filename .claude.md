# ESPN Cookie Helper - Chrome Extension

## Project Overview

Chrome extension that extracts ESPN Fantasy Football authentication cookies (ESPN_S2 and SWID) to enable users to sync their private leagues with the "How We Lookin" web application for playoff odds calculation.

**GitHub:** https://github.com/D-jAm/Espn_PrivateLeagueLinker_Extension.git

## Current Status

**Extension:** ğŸ”§ v1.0.1 - Fixing Chrome Rejection
- Manifest V3 compliant
- Full functionality working
- Fixed broken /settings and /help links
- Updated to match actual web app flow
- Ready for resubmission

**Web App:** âœ… MVP Live in Production
- Live at: https://how-we-lookin.vercel.app
- Homepage with league URL input
- Private league authentication flow working
- Manual cookie entry implemented
- No dedicated /settings or /help pages (contextual flow instead)

## Project Structure

```
Espn_PrivateLeagueLinker_Extension/
â”œâ”€â”€ manifest.json              # Extension config (V3)
â”œâ”€â”€ popup/
â”‚   â”œâ”€â”€ popup.html            # UI (3 states: loading/success/error)
â”‚   â”œâ”€â”€ popup.js              # Cookie extraction logic
â”‚   â””â”€â”€ popup.css             # Dark theme design
â”œâ”€â”€ icons/                    # 4 PNG icons (42 KB total) âœ…
â”œâ”€â”€ screenshots/              # 3 screenshots (333 KB total) âœ…
â”œâ”€â”€ README.md                 # User documentation
â”œâ”€â”€ PRIVACY.md               # Privacy policy (Chrome Store ready)
â”œâ”€â”€ TESTING.md               # Test suite (10 scenarios)
â”œâ”€â”€ QUICK_START.md           # 5-minute setup guide
â”œâ”€â”€ BUILD_SUMMARY.md         # Build overview
â”œâ”€â”€ UPDATE_URLS.md           # URL update checklist
â”œâ”€â”€ LICENSE                  # MIT License
â””â”€â”€ .gitignore              # Git ignore patterns
```

## Tech Stack

- **Manifest:** V3 (latest Chrome standard)
- **Language:** Vanilla JavaScript (no build tools)
- **Chrome APIs:**
  - `chrome.cookies` - Cookie extraction
  - `navigator.clipboard` - Copy functionality
- **Permissions:** `cookies` only (ESPN domains)
- **UI:** 400px popup, dark theme, responsive
- **Security:** Minimal permissions, no tracking, no external requests

## Key Features

- âœ… One-click ESPN_S2 and SWID extraction
- âœ… Copy to clipboard with visual feedback (2s timeout)
- âœ… Error handling for logged-out state
- âœ… Cookie truncation (50 chars) with tooltips
- âœ… Three UI states with smooth transitions
- âœ… Accessibility (ARIA, keyboard nav, focus states)
- âœ… Comprehensive console logging

## Development Workflow

### Testing Locally

```bash
# Load extension
1. Open chrome://extensions/
2. Enable "Developer mode"
3. Click "Load unpacked"
4. Select this folder
```

### Current URLs (Production)

Extension links to:
- Main app: `https://how-we-lookin.vercel.app` (homepage with league URL input)
- Help: GitHub README (no dedicated /help page on web app)

**Web App Flow:**
1. User enters league URL on homepage
2. If league is private â†’ authentication screen
3. Manual entry â†’ cookie input fields
4. No /settings or /help pages exist

### Before Publishing to Chrome Web Store

1. âœ… **Deploy web app to production** - Live at how-we-lookin.vercel.app
2. âœ… **Update URLs** - All files updated to production domain:
   ```bash
   # Files updated:
   - popup/popup.html (2 URLs) âœ…
   - README.md (multiple) âœ…
   - PRIVACY.md (multiple) âœ…
   - QUICK_START.md âœ…
   - BUILD_SUMMARY.md âœ…
   ```
3. **Test with production URLs**
4. **Submit to Chrome Web Store**

## Next Steps

### Immediate Priority
- [âœ…] Deploy web app to production (https://how-we-lookin.vercel.app)
- [âœ…] Update all extension URLs to production domain
- [âœ…] Fix Chrome rejection - broken /settings link
- [âœ…] Update instructions to match actual web app flow
- [âœ…] Bump version to 1.0.1
- [ ] Commit and push fixes
- [ ] Resubmit to Chrome Web Store

### Before Chrome Web Store Resubmission
- [âœ…] Update all URLs from localhost:3000 to production domain
- [âœ…] Fix broken /settings and /help links
- [âœ…] Update README with correct user flow
- [ ] Test extension with production web app
- [ ] Resubmit as version 1.0.1

### Optional Enhancements
- [ ] Add chrome.storage caching for cookies
- [ ] Auto-extract on popup open (currently disabled for privacy)
- [ ] Support for multiple ESPN accounts

## Important Files for Future Sessions

### For Development
- `popup/popup.js` - Cookie extraction logic (216 lines)
- `popup/popup.html` - UI structure (67 lines)
- `popup/popup.css` - Styling (381 lines)
- `manifest.json` - Extension configuration

### For URL Updates
- `UPDATE_URLS.md` - Complete checklist (URLs now updated to production)
- All instances updated: `how-we-lookin.vercel.app`

### For Testing
- `TESTING.md` - 10 test scenarios with expected results
- `QUICK_START.md` - 5-minute setup guide

### For Publishing
- `README.md` - Chrome Web Store submission section
- `PRIVACY.md` - Privacy policy (already compliant)
- `screenshots/` - Store listing assets

## Common Commands

```bash
# Development
git status
git add -A
git commit -m "message"
git push

# Load extension
# Go to chrome://extensions/ â†’ Load unpacked

# Check running dev servers
netstat -ano | grep ":3000"

# Update URLs (after web app deployment)
# See UPDATE_URLS.md for search/replace commands
```

## Dependencies

**None!** Pure vanilla JavaScript, no npm packages, no build step.

## Browser Compatibility

- Chrome: âœ… V88+ (Manifest V3)
- Edge: âœ… (Chromium-based)
- Firefox: âŒ (uses different manifest format)
- Safari: âŒ (uses different API)

## Security & Privacy

- âœ… Minimal permissions (cookies only)
- âœ… No external network requests
- âœ… No analytics or tracking
- âœ… User-initiated extraction only
- âœ… GDPR/CCPA compliant
- âœ… Open source (MIT License)

## Related Projects

**Main Web App:** `c:\Users\dylan\CodingProjects\AMiFucked\`
- "How We Lookin" fantasy football playoff odds calculator
- Uses cookies from this extension to access ESPN API
- **Deployed at:** https://how-we-lookin.vercel.app

## Git Info

- **Branch:** main
- **Remote:** https://github.com/D-jAm/Espn_PrivateLeagueLinker_Extension.git
- **Initial Commit:** ff37ab5
- **Status:** All files committed and pushed

## Session History

### November 4, 2025
- âœ… Analyzed Chrome Web Store rejection (violation: Red Potassium)
- âœ… Identified root cause: /settings and /help pages don't exist (404)
- âœ… Fixed popup.html: updated links to homepage and GitHub
- âœ… Updated README.md: corrected user flow instructions
- âœ… Removed broken /faq link
- âœ… Bumped version to 1.0.1
- ğŸ”„ Ready to commit and resubmit

### October 30, 2025
- âœ… Built complete Chrome Extension (V3)
- âœ… Created all documentation (README, PRIVACY, TESTING, etc.)
- âœ… Generated icons (4 PNG files)
- âœ… Captured screenshots (3 files)
- âœ… Passed local testing
- âœ… Initialized git and pushed to GitHub
- âœ… Web app deployed to https://how-we-lookin.vercel.app
- âœ… Updated all URLs to production domain

**Status:** ğŸ”§ v1.0.1 - Addressing Chrome rejection, ready for resubmission

## Submission Details

- **Submitted:** October 30, 2025
- **Version:** 1.0.0
- **Status:** Under Review (typically 1-3 business days)
- **ZIP File:** espn-cookie-helper-v1.0.0.zip (57 KB)
- **Store Listing:** Pending approval

## Chrome Web Store Rejection (November 4, 2025)

**Violation:** Inaccurate Description - Non functional
**Reference ID:** Red Potassium
**Issue:** "Unable to sync private leagues in the settings page as showing 404 error"

**Root Cause:**
- Extension linked to `/settings` page that doesn't exist
- Web app uses contextual flow (homepage â†’ league URL â†’ auth if private)
- Reviewer clicked `/settings` link and got 404

**Fixes Applied (v1.0.1):**
- âœ… Updated popup.html to link to homepage instead of /settings
- âœ… Changed /help link to GitHub README
- âœ… Updated README instructions to match actual web app flow
- âœ… Removed /faq link (doesn't exist)
- âœ… Bumped version to 1.0.1

## Known Issues

- None - Extension functionality works perfectly
- Links updated to match actual web app implementation

## Contact & Resources

- **GitHub Repo:** https://github.com/D-jAm/Espn_PrivateLeagueLinker_Extension.git
- **Chrome Extension Docs:** https://developer.chrome.com/docs/extensions/mv3/
- **Chrome Web Store:** https://chrome.google.com/webstore/devconsole

---

**Last Updated:** November 4, 2025
**Extension Version:** 1.0.1
**Status:** Fixing Chrome rejection, ready for resubmission
